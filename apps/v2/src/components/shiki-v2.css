.astro-code {
  --code-color: theme(colors.gray.100);
  --code-text-color: theme(colors.gray.800);
  --highlight-bg: #f1f8ff;

  border-color: var(--code-color);
  @apply relative overflow-x-auto border px-4 py-2 max-h-[50vh];
}

[data-theme='dark'] .astro-code {
  --code-color: theme(colors.zinc.600);
  --code-text-color: theme(colors.zinc.100);
  --highlight-bg: theme(colors.gray.800);
}

[data-theme='dark'] .astro-code,
[data-theme='dark'] .astro-code span {
  color: var(--shiki-dark) !important;
  background-color: var(--shiki-dark-bg) !important;
  /* Optional, if you also want font styles */
  font-style: var(--shiki-dark-font-style) !important;
  font-weight: var(--shiki-dark-font-weight) !important;
  text-decoration: var(--shiki-dark-text-decoration) !important;
}

.astro-code span.highlighted {
  background-color: var(--highlight-bg);
}
